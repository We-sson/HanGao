<UserControl x:Class="HanGao.View.User_Control.User_Control_Log"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:local="clr-namespace:HanGao.View.User_Control"
             xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
             d:DesignHeight="436"
             d:DesignWidth="675"
             DataContext="{Binding Source={StaticResource Locator}, Path=User_Log}"
             mc:Ignorable="d">
    <!--  设备状态显示区域  -->
    <Grid Grid.Row="1" Grid.Column="0"
          Margin="0">
        <Grid.Effect>
            <DropShadowEffect ShadowDepth="0"
                              Direction="20"
                              Opacity="0.2"
                              BlurRadius="20" />
        </Grid.Effect>


        <Grid.RowDefinitions>
            <RowDefinition Height="0.2*" />
            <RowDefinition Height="0.01*" />
            <RowDefinition />
        </Grid.RowDefinitions>
        <Border Grid.RowSpan="3"
                BorderThickness="5"
                BorderBrush="Transparent"
                Background="#E3E3E3"
                CornerRadius="10" />

        <TextBlock Text="设 备 状 态"
                   Margin="8"
                   HorizontalAlignment="Center"
                   VerticalAlignment="Bottom"
                   FontSize="40" />

        <Border Grid.Row="1"
                Margin="35,0,35,0"
                Opacity="0.5"
                Background="#A0A0A0"
                CornerRadius="5" />

        <ScrollViewer x:Name="SV1" Grid.Row="2"
                      Margin="20,10,20,10"
                      ScrollViewer.VerticalScrollBarVisibility="Auto"
                      ScrollViewer.HorizontalScrollBarVisibility="Auto"
                      Template="{StaticResource ScrollViewerControlTemplate1}"
                      CanContentScroll="True"
                      VirtualizingPanel.IsVirtualizing="True"
                      VirtualizingPanel.ScrollUnit="Item"
                      VirtualizingPanel.VirtualizationMode="Recycling">

            <i:Interaction.Triggers>
                <i:EventTrigger EventName="ScrollChanged">
                    <i:InvokeCommandAction Command="{Binding Path=DataContext.Update_Log_Comm, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type UserControl}}}"
                                           CommandParameter="{Binding ElementName=SV1}"
                                           PassEventArgsToCommand="True" />
                </i:EventTrigger>
            </i:Interaction.Triggers>
            <TextBlock Text="{Binding User_UI_Log.User_Log}"
                       TextWrapping="WrapWithOverflow"
                       DataContext="{Binding Source={StaticResource Locator}, Path=User_Log}"
                       Visibility="Visible"
                       Foreground="Black"
                       FontSize="18"
                       Opacity="0.8" />
        </ScrollViewer>
    </Grid>
</UserControl>
